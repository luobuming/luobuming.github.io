<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content>
    <meta name="keyword" content>
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        python爬虫之bs4模块 - 萝卜
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> 你若盛开，清风自来！ </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar radius">
            <img src="/img/avatar.jpg">
        </div>
        <div class="name">
            <i>萝卜</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li>
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>HOME</span>
                </a>
            </li>
            <li>
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>TAGS</span>
                </a>
            </li>
            <li>
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>ARCHIVES</span>
                </a>
            </li>
            <li>
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>ABOUT</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>SEARCH</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#bs4简介"><span class="toc-text">bs4简介</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#即BeautifulSoup，是python种的一个库，最主要的内容就是从网页中抓取数据。"><span class="toc-text">即BeautifulSoup，是python种的一个库，最主要的内容就是从网页中抓取数据。</span></a></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#使用方法"><span class="toc-text">使用方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BeautifulSoup四大对象种类"><span class="toc-text">BeautifulSoup四大对象种类</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Beautiful-Soup-将复杂HTML文档转换成一个复杂的树形结构-每个节点都是-Python-对象-所有对象可以归纳为4种"><span class="toc-text">Beautiful Soup 将复杂HTML文档转换成一个复杂的树形结构,每个节点都是 Python 对象,所有对象可以归纳为4种:</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tag"><span class="toc-text">tag</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#通俗的来讲就是HTML中的一个个标签，如html-head-title-meta-body-script-style等等，不过有一点是，它查找的是在所有内容中的第一个符合要求的标签，并不是所有的"><span class="toc-text">通俗的来讲就是HTML中的一个个标签，如html,head,title,meta,body,script,style等等，不过有一点是，它查找的是在所有内容中的第一个符合要求的标签，并不是所有的</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#对于每个标签来说，都一个共性，那就是都含有两个属性：name和attrs-用法如下"><span class="toc-text">对于每个标签来说，都一个共性，那就是都含有两个属性：name和attrs,用法如下:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#把div的所有属性都打印出来，返回的是一个字典类型的，若想取其中的某一个指，则可用："><span class="toc-text">把div的所有属性都打印出来，返回的是一个字典类型的，若想取其中的某一个指，则可用：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NavigableString"><span class="toc-text">NavigableString</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#主要作用是把标签内部中的文字提取出来，用法如下："><span class="toc-text">主要作用是把标签内部中的文字提取出来，用法如下：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#假如一个标签中的内容是注释过的"><span class="toc-text">假如一个标签中的内容是注释过的</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#那么："><span class="toc-text">那么：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#返回的结果就是hahahahahah，并不输出注释符"><span class="toc-text">返回的结果就是hahahahahah，并不输出注释符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BeautifulSoup"><span class="toc-text">BeautifulSoup</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#BeautifulSoup-对象表示的是一个文档的全部内容-和tag有点相似。"><span class="toc-text">BeautifulSoup 对象表示的是一个文档的全部内容,和tag有点相似。</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Comment"><span class="toc-text">Comment</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#总的来说，Comment是一个特殊的NavigableString对象，当然也不输出注释符。"><span class="toc-text">总的来说，Comment是一个特殊的NavigableString对象，当然也不输出注释符。</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#遍历文档树"><span class="toc-text">遍历文档树</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#标签的-contents可以将会标签的子节点以列表的方式输出"><span class="toc-text">标签的.contents可以将会标签的子节点以列表的方式输出</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#如果要取出列表中的某一个值的话，可以用索引来取出"><span class="toc-text">如果要取出列表中的某一个值的话，可以用索引来取出</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#所有子孙节点—-descendants"><span class="toc-text">所有子孙节点—.descendants</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#节点内容"><span class="toc-text">节点内容</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#单个内容"><span class="toc-text">单个内容</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#多个内容"><span class="toc-text">多个内容</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#若取出来的有多行是空白内容，可以使用stripped-strings"><span class="toc-text">若取出来的有多行是空白内容，可以使用stripped_strings</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#父节点"><span class="toc-text">父节点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#单个父节点"><span class="toc-text">单个父节点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#多个父节点"><span class="toc-text">多个父节点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#兄弟节点-处在本级的节点"><span class="toc-text">兄弟节点(处在本级的节点)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#全部兄弟节点"><span class="toc-text">全部兄弟节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#单个前后节点"><span class="toc-text">单个前后节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多有的前后节点"><span class="toc-text">多有的前后节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#从整个网站寻找"><span class="toc-text">从整个网站寻找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CSS选择器"><span class="toc-text">CSS选择器</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#css的规则：标签名不加任何修饰，类名前加点，id名前加-，在这里用的方法大致是一样的，用到的方法是bs-1-select-它的返回值是一个列表list"><span class="toc-text">css的规则：标签名不加任何修饰，类名前加点，id名前加#，在这里用的方法大致是一样的，用到的方法是bs_1.select(),它的返回值是一个列表list;</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#组合查找"><span class="toc-text">组合查找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#子查询"><span class="toc-text">子查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#属性查找"><span class="toc-text">属性查找</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-text">总结</span></a></li>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input">
            <span id="begin-search">search</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> 你若盛开，清风自来！ </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        python爬虫之bs4模块
    </div>

    <div class="post-meta">
        <span class="attr">Post：<span>2018-06-01 20:57:28</span></span>
        
        <span class="attr">Tags：/
        
        <a class="tag" href="/tags/#python" title="python">python</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">Visit：<span id="busuanzi_value_page_pv"></span>
</span>

    </div>
    <div class="post-content no-indent">
        <p>美化网页数据<br><a id="more"></a></p>
<h2 id="bs4简介"><a href="#bs4简介" class="headerlink" title="bs4简介"></a>bs4简介</h2><h4 id="即BeautifulSoup，是python种的一个库，最主要的内容就是从网页中抓取数据。"><a href="#即BeautifulSoup，是python种的一个库，最主要的内容就是从网页中抓取数据。" class="headerlink" title="即BeautifulSoup，是python种的一个库，最主要的内容就是从网页中抓取数据。"></a>即BeautifulSoup，是python种的一个库，最主要的内容就是从网页中抓取数据。</h4><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">官方解释：</span><br><span class="line"><span class="keyword">Beautiful </span>Soup提供一些简单的、python式的函数用来处理导航、搜索、修改分析树等功能。它是一个工具箱，通过解析文档为用户提供需要抓取的数据，因为简单，所以不需要多少代码就可以写出一个完整的应用程序。</span><br><span class="line"></span><br><span class="line"><span class="keyword">Beautiful </span>Soup自动将输入文档转换为Unicode编码，输出文档转换为utf-<span class="number">8</span>编码。你不需要考虑编码方式，除非文档没有指定一个编码方式，这时，<span class="keyword">Beautiful </span>Soup就不能自动识别编码方式了。然后，你仅仅需要说明一下原始编码方式就可以了。</span><br><span class="line"></span><br><span class="line"><span class="keyword">Beautiful </span>Soup已成为和lxml、html6lib一样出色的python解释器，为用户灵活地提供不同的解析策略或强劲的速度。</span><br></pre></td></tr></table></figure>
<h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><p>首先我们要导入bs4库<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">from</span> <span class="keyword">bs4 </span><span class="meta">import</span> <span class="keyword">BeautifulSoup</span></span><br></pre></td></tr></table></figure></p>
<p>然后我们利用requests或者urllib2来打开一个网址(这里用<a href="http://www.qq.com为例子来展开描述的" target="_blank" rel="noopener">http://www.qq.com为例子来展开描述的</a>)<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">url = <span class="string">"http://www.qq.com"</span></span><br><span class="line">r = requests.<span class="built_in">get</span>(url,<span class="string">'lxml'</span>)</span><br><span class="line"><span class="built_in">print</span> r.content</span><br></pre></td></tr></table></figure></p>
<p>创造一个BeautifulSoup对象<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">bs_1</span> = BeautifulSoup(r.text,<span class="string">'lxml'</span>)</span><br></pre></td></tr></table></figure></p>
<p>然后通过这个对象来实现对拔下来的源码进行筛选和处理<br><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> ba_1.prettify() <span class="meta">#格式化输出全部内容</span></span><br><span class="line"><span class="keyword">print</span> bs_1.[标签名] </span><br><span class="line"></span><br><span class="line">有html,head,<span class="built_in">title</span>,meta,body,script,style等等</span><br><span class="line">分别输出标签对之间的代码</span><br></pre></td></tr></table></figure></p>
<h2 id="BeautifulSoup四大对象种类"><a href="#BeautifulSoup四大对象种类" class="headerlink" title="BeautifulSoup四大对象种类"></a>BeautifulSoup四大对象种类</h2><h6 id="Beautiful-Soup-将复杂HTML文档转换成一个复杂的树形结构-每个节点都是-Python-对象-所有对象可以归纳为4种"><a href="#Beautiful-Soup-将复杂HTML文档转换成一个复杂的树形结构-每个节点都是-Python-对象-所有对象可以归纳为4种" class="headerlink" title="Beautiful Soup 将复杂HTML文档转换成一个复杂的树形结构,每个节点都是 Python 对象,所有对象可以归纳为4种:"></a>Beautiful Soup 将复杂HTML文档转换成一个复杂的树形结构,每个节点都是 Python 对象,所有对象可以归纳为4种:</h6><ol>
<li>Tag</li>
<li>NavigableString</li>
<li>BeautifulSoup</li>
<li>Comment<h3 id="tag"><a href="#tag" class="headerlink" title="tag"></a>tag</h3><h6 id="通俗的来讲就是HTML中的一个个标签，如html-head-title-meta-body-script-style等等，不过有一点是，它查找的是在所有内容中的第一个符合要求的标签，并不是所有的"><a href="#通俗的来讲就是HTML中的一个个标签，如html-head-title-meta-body-script-style等等，不过有一点是，它查找的是在所有内容中的第一个符合要求的标签，并不是所有的" class="headerlink" title="通俗的来讲就是HTML中的一个个标签，如html,head,title,meta,body,script,style等等，不过有一点是，它查找的是在所有内容中的第一个符合要求的标签，并不是所有的"></a>通俗的来讲就是HTML中的一个个标签，如html,head,title,meta,body,script,style等等，不过有一点是，它查找的是在所有内容中的第一个符合要求的标签，并不是所有的</h6><h5 id="对于每个标签来说，都一个共性，那就是都含有两个属性：name和attrs-用法如下"><a href="#对于每个标签来说，都一个共性，那就是都含有两个属性：name和attrs-用法如下" class="headerlink" title="对于每个标签来说，都一个共性，那就是都含有两个属性：name和attrs,用法如下:"></a>对于每个标签来说，都一个共性，那就是都含有两个属性：name和attrs,用法如下:</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print bs_1.[标签名][name/attrs]</span><br><span class="line">eg:</span><br><span class="line">    print bs_1.div.name    <span class="comment">&lt;!--div--&gt;</span></span><br><span class="line">    print bs_1.div.attrs    <span class="comment">&lt;!--&#123;'style': 'display:none;overflow:visible;', 'id': 'QQ_takeover', 'class': ['l_qq_com']&#125;--&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="把div的所有属性都打印出来，返回的是一个字典类型的，若想取其中的某一个指，则可用："><a href="#把div的所有属性都打印出来，返回的是一个字典类型的，若想取其中的某一个指，则可用：" class="headerlink" title="把div的所有属性都打印出来，返回的是一个字典类型的，若想取其中的某一个指，则可用："></a>把div的所有属性都打印出来，返回的是一个字典类型的，若想取其中的某一个指，则可用：</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print bs_1.div['class']  <span class="comment">&lt;!--['l_qq_com']--&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="NavigableString"><a href="#NavigableString" class="headerlink" title="NavigableString"></a>NavigableString</h3><h6 id="主要作用是把标签内部中的文字提取出来，用法如下："><a href="#主要作用是把标签内部中的文字提取出来，用法如下：" class="headerlink" title="主要作用是把标签内部中的文字提取出来，用法如下："></a>主要作用是把标签内部中的文字提取出来，用法如下：</h6><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> bs_1.<span class="built_in">title</span>     #&lt;<span class="built_in">title</span>&gt;腾讯首页&lt;/<span class="built_in">title</span>&gt;</span><br><span class="line"><span class="built_in">print</span> bs_1.<span class="built_in">title</span>.<span class="built_in">string</span>   # 腾讯首页</span><br></pre></td></tr></table></figure>
<h6 id="假如一个标签中的内容是注释过的"><a href="#假如一个标签中的内容是注释过的" class="headerlink" title="假如一个标签中的内容是注释过的"></a>假如一个标签中的内容是注释过的</h6><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>hahaha<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"123456"</span>&gt;</span><span class="comment">&lt;!--hahahahahah--&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h6 id="那么："><a href="#那么：" class="headerlink" title="那么："></a>那么：</h6><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print bs_1<span class="selector-class">.a</span><span class="selector-class">.string</span></span><br></pre></td></tr></table></figure>
<h6 id="返回的结果就是hahahahahah，并不输出注释符"><a href="#返回的结果就是hahahahahah，并不输出注释符" class="headerlink" title="返回的结果就是hahahahahah，并不输出注释符"></a>返回的结果就是hahahahahah，并不输出注释符</h6><h3 id="BeautifulSoup"><a href="#BeautifulSoup" class="headerlink" title="BeautifulSoup"></a>BeautifulSoup</h3><h6 id="BeautifulSoup-对象表示的是一个文档的全部内容-和tag有点相似。"><a href="#BeautifulSoup-对象表示的是一个文档的全部内容-和tag有点相似。" class="headerlink" title="BeautifulSoup 对象表示的是一个文档的全部内容,和tag有点相似。"></a>BeautifulSoup 对象表示的是一个文档的全部内容,和tag有点相似。</h6><h3 id="Comment"><a href="#Comment" class="headerlink" title="Comment"></a>Comment</h3><h6 id="总的来说，Comment是一个特殊的NavigableString对象，当然也不输出注释符。"><a href="#总的来说，Comment是一个特殊的NavigableString对象，当然也不输出注释符。" class="headerlink" title="总的来说，Comment是一个特殊的NavigableString对象，当然也不输出注释符。"></a>总的来说，Comment是一个特殊的NavigableString对象，当然也不输出注释符。</h6><h3 id="遍历文档树"><a href="#遍历文档树" class="headerlink" title="遍历文档树"></a>遍历文档树</h3><h6 id="标签的-contents可以将会标签的子节点以列表的方式输出"><a href="#标签的-contents可以将会标签的子节点以列表的方式输出" class="headerlink" title="标签的.contents可以将会标签的子节点以列表的方式输出"></a>标签的.contents可以将会标签的子节点以列表的方式输出</h6><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print bs_1.style.contents</span><br><span class="line">输出结果：</span><br><span class="line">[u'<span class="symbol">\r</span><span class="symbol">\n</span>  .leftVideoNews .ft&#123;height:168px;overflow:hidden;&#125;<span class="symbol">\r</span><span class="symbol">\n</span>  #jinrituhua&#123;height:auto;&#125;<span class="symbol">\r</span><span class="symbol">\n</span>  #jinrituhua .bd&#123;padding:12px 0 17px;&#125;<span class="symbol">\r</span><span class="symbol">\n</span>  #jinrituhua .ft&#123;height:224px;overflow:hidden;&#125;<span class="symbol">\r</span><span class="symbol">\n</span>  #jinrituhua li&#123;width:330px;padding:0;background:none;&#125;  <span class="symbol">\r</span><span class="symbol">\n</span>']</span><br></pre></td></tr></table></figure>
<h6 id="如果要取出列表中的某一个值的话，可以用索引来取出"><a href="#如果要取出列表中的某一个值的话，可以用索引来取出" class="headerlink" title="如果要取出列表中的某一个值的话，可以用索引来取出"></a>如果要取出列表中的某一个值的话，可以用索引来取出</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">print</span> <span class="selector-tag">bs_1</span><span class="selector-class">.style</span><span class="selector-class">.contents</span><span class="selector-attr">[0]</span></span><br><span class="line">结果：</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.leftVideoNews</span> </span><br><span class="line">  <span class="selector-class">.ft</span>&#123;<span class="attribute">height</span>:<span class="number">168px</span>;<span class="attribute">overflow</span>:hidden;&#125;</span><br><span class="line">  <span class="selector-id">#jinrituhua</span>&#123;<span class="attribute">height</span>:auto;&#125;</span><br><span class="line">  <span class="selector-id">#jinrituhua</span> <span class="selector-class">.bd</span>&#123;<span class="attribute">padding</span>:<span class="number">12px</span> <span class="number">0</span> <span class="number">17px</span>;&#125;</span><br><span class="line">  <span class="selector-id">#jinrituhua</span> <span class="selector-class">.ft</span>&#123;<span class="attribute">height</span>:<span class="number">224px</span>;<span class="attribute">overflow</span>:hidden;&#125;</span><br><span class="line">  <span class="selector-id">#jinrituhua</span> <span class="selector-tag">li</span>&#123;<span class="attribute">width</span>:<span class="number">330px</span>;<span class="attribute">padding</span>:<span class="number">0</span>;<span class="attribute">background</span>:none;&#125;</span><br></pre></td></tr></table></figure>
<p>标签的.children可以返回一个 list 生成器对象，而不是直接返回一个子节点<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print bs_1<span class="selector-class">.style</span><span class="selector-class">.children</span></span><br><span class="line">结果：</span><br><span class="line">    &lt;listiterator <span class="selector-tag">object</span> at <span class="number">0</span>x0000000006DB9A90&gt;</span><br></pre></td></tr></table></figure></p>
<p>获取这个之后，我们可以通过遍历获取所有子节点<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">for</span> <span class="selector-tag">child</span> <span class="selector-tag">in</span>  <span class="selector-tag">bs_1</span><span class="selector-class">.style</span><span class="selector-class">.children</span>:</span><br><span class="line">    <span class="selector-tag">print</span> <span class="selector-tag">child</span></span><br><span class="line">    </span><br><span class="line">结果：</span><br><span class="line">  <span class="selector-class">.leftVideoNews</span> <span class="selector-class">.ft</span>&#123;<span class="attribute">height</span>:<span class="number">168px</span>;<span class="attribute">overflow</span>:hidden;&#125;</span><br><span class="line">  <span class="selector-id">#jinrituhua</span>&#123;<span class="attribute">height</span>:auto;&#125;</span><br><span class="line">  <span class="selector-id">#jinrituhua</span> <span class="selector-class">.bd</span>&#123;<span class="attribute">padding</span>:<span class="number">12px</span> <span class="number">0</span> <span class="number">17px</span>;&#125;</span><br><span class="line">  <span class="selector-id">#jinrituhua</span> <span class="selector-class">.ft</span>&#123;<span class="attribute">height</span>:<span class="number">224px</span>;<span class="attribute">overflow</span>:hidden;&#125;</span><br><span class="line">  <span class="selector-id">#jinrituhua</span> <span class="selector-tag">li</span>&#123;<span class="attribute">width</span>:<span class="number">330px</span>;<span class="attribute">padding</span>:<span class="number">0</span>;<span class="attribute">background</span>:none;&#125;</span><br></pre></td></tr></table></figure></p>
<h6 id="所有子孙节点—-descendants"><a href="#所有子孙节点—-descendants" class="headerlink" title="所有子孙节点—.descendants"></a>所有子孙节点—.descendants</h6><p>.contents 和 .children 属性仅包含标签的直接子节点，.descendants 属性可以对所有tag的子孙节点进行递归循环，和 children类似，我们也需要遍历获取其中的内容。<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> child <span class="keyword">in</span> bs_1.descendants:</span><br><span class="line">    <span class="builtin-name">print</span> child</span><br></pre></td></tr></table></figure></p>
<p>从最大的标签对html开始，一层一层的开始列出所有的子节点</p>
<h5 id="节点内容"><a href="#节点内容" class="headerlink" title="节点内容"></a>节点内容</h5><h6 id="单个内容"><a href="#单个内容" class="headerlink" title="单个内容"></a>单个内容</h6><p>如果一个标签里面没有标签了，那么 .string 就会返回标签里面的内容。如果标签里面只有唯一的一个标签了，那么 .string 也会返回最里面的内容</p>
<h6 id="多个内容"><a href="#多个内容" class="headerlink" title="多个内容"></a>多个内容</h6><p>同样也需要遍历<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print bs_1.strings</span><br><span class="line">结果：</span><br><span class="line">&lt;generator <span class="selector-tag">object</span> _all_strings at <span class="number">0</span>x0000000005AF1EE8&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">r = requests.<span class="built_in">get</span>(url)</span><br><span class="line">bs_1 = BeautifulSoup(r.text,<span class="string">'lxml'</span>)</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">string</span> in bs_1.<span class="built_in">string</span><span class="variable">s:</span></span><br><span class="line">    <span class="keyword">print</span>(repr(<span class="built_in">string</span>))</span><br></pre></td></tr></table></figure>
<h5 id="若取出来的有多行是空白内容，可以使用stripped-strings"><a href="#若取出来的有多行是空白内容，可以使用stripped-strings" class="headerlink" title="若取出来的有多行是空白内容，可以使用stripped_strings"></a>若取出来的有多行是空白内容，可以使用stripped_strings</h5><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="built_in">string</span> <span class="keyword">in</span> bs_1.stripped_strings:</span><br><span class="line">    <span class="built_in">print</span>(repr(<span class="built_in">string</span>))</span><br></pre></td></tr></table></figure>
<p>repr() 函数将对象转化为供解释器读取的形式。</p>
<h3 id="父节点"><a href="#父节点" class="headerlink" title="父节点"></a>父节点</h3><h4 id="单个父节点"><a href="#单个父节点" class="headerlink" title="单个父节点"></a>单个父节点</h4><p>.parent可以得到上一级的标签，通过标签可以访问上一级标签的name和attrs值</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print bs_1<span class="selector-class">.a</span><span class="selector-class">.parent</span><span class="selector-class">.name</span></span><br><span class="line">结果：</span><br><span class="line">    div</span><br></pre></td></tr></table></figure>
<h4 id="多个父节点"><a href="#多个父节点" class="headerlink" title="多个父节点"></a>多个父节点</h4><p>.parents可以得到所有的父节点，要输出那就得遍历</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">bs_1 = BeautifulSoup(r<span class="selector-class">.text</span>,<span class="string">'lxml'</span>)</span><br><span class="line"><span class="keyword">for</span> parent <span class="keyword">in</span>  bs_1<span class="selector-class">.title</span><span class="selector-class">.parents</span>:</span><br><span class="line">    print parent<span class="selector-class">.name</span>  </span><br><span class="line">结果：</span><br><span class="line">    head</span><br><span class="line">    html</span><br><span class="line">    [document]</span><br></pre></td></tr></table></figure>
<h3 id="兄弟节点-处在本级的节点"><a href="#兄弟节点-处在本级的节点" class="headerlink" title="兄弟节点(处在本级的节点)"></a>兄弟节点(处在本级的节点)</h3><p> .next_sibling可以获取到下一个的节点<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print bs_1<span class="selector-class">.p</span><span class="selector-class">.next_sibling</span></span><br></pre></td></tr></table></figure></p>
<p> .previous_sibling 可以获取到上一个的节点</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print bs_1<span class="selector-class">.p</span><span class="selector-class">.previous_sibling</span></span><br></pre></td></tr></table></figure>
<h3 id="全部兄弟节点"><a href="#全部兄弟节点" class="headerlink" title="全部兄弟节点"></a>全部兄弟节点</h3><p> .next_siblings 之后的兄弟节点<br> .previous_siblings 之前的兄弟节点<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> sibling <span class="keyword">in</span> bs_1<span class="selector-class">.a</span><span class="selector-class">.next_siblings</span>:</span><br><span class="line">    print(repr(sibling))</span><br></pre></td></tr></table></figure></p>
<h3 id="单个前后节点"><a href="#单个前后节点" class="headerlink" title="单个前后节点"></a>单个前后节点</h3><p>.next_element可以获取到临近它的下一个节点，而不分层次关系</p>
<p>.previous_element可以获取到临近它的上一个节点<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print bs_1<span class="selector-class">.meta</span><span class="selector-class">.next</span><span class="selector-class">.element</span></span><br></pre></td></tr></table></figure></p>
<h3 id="多有的前后节点"><a href="#多有的前后节点" class="headerlink" title="多有的前后节点"></a>多有的前后节点</h3><p>.next_elements 该节点前的所有节点</p>
<p>.previous_elements 该节点后的所有节点</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="keyword">element</span> <span class="keyword">in</span> last_a_tag.next_elements:</span><br><span class="line">    print(repr(<span class="keyword">element</span>))</span><br></pre></td></tr></table></figure>
<h3 id="从整个网站寻找"><a href="#从整个网站寻找" class="headerlink" title="从整个网站寻找"></a>从整个网站寻找</h3><p>find_all(name,attrs,recursive,text,**kwargs)<br> naem<br>    传字符串<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print bs_1.find_all(<span class="string">'a'</span>)</span><br><span class="line">结果：</span><br><span class="line">[&lt;<span class="selector-tag">a</span> class=<span class="string">"qskinmouseover"</span> href=<span class="string">"http://v.qq.com/p/cross/20180524/Wlx2799t.html"</span> id=<span class="string">"qskinmouseover"</span> target=<span class="string">"_blank"</span> title=<span class="string">""</span>&gt;\n&lt;<span class="selector-tag">img</span> alt=<span class="string">"\u516d\u4e00\u966a\u4f34\u65e5"</span> src=<span class="string">"//mat1.gtimg.com/www/qqskin/20180531_children.png"</span>/&gt;\n&lt;/a&gt;, &lt;<span class="selector-tag">a</span> bosszone=<span class="string">"logo"</span> class=<span class="string">"qqlogo"</span> href=<span class="string">"//www.qq.com"</span> id=<span class="string">"tencentlogo"</span> target=<span class="string">"_blank"</span>&gt;\n&lt;<span class="selector-tag">img</span> alt=<span class="string">"\u817e\u8baf\u7f51"</span> src=<span class="string">"//mat1.gtimg.com/www/qq2018/imgs/qq_logo_2018x2.png"</span>/&gt;\n&lt;/a&gt;, &lt;<span class="selector-tag">a</span> href=<span class="string">"https://www.sogou.com/?pid=sogou-wsse-3f7bcd0b3ea82268-0001"</span> id=<span class="string">"sogouLogoLink"</span> onclick=<span class="string">"registerZone2(&#123;bossZone:'searchlogo',url:''&#125;,1);"</span> target=<span class="string">"_blank"</span>&gt;&lt;<span class="selector-tag">img</span> alt=<span class="string">"\u641c\u72d7"</span> class=<span class="string">"sosoLogo"</span> id=<span class="string">"sogouLogo"</span> src=<span class="string">"//mat1.gtimg.com/www/images/qq2012/sogouSearchLogo20140629.png"</span> style=<span class="string">"width:23px;height:23px;"</span>/&gt;&lt;/a&gt;, &lt;<span class="selector-tag">a</span> bosszone=<span class="string">"onekey"</span> class=<span class="string">"login"</span> href=<span class="string">"javascript:void(0)"</span> id=<span class="string">"loginGrayLayout"</span> onclick=<span class="string">"userLogin();"</span> target=<span class="string">"_self"</span>&gt;&lt;/a&gt;, &lt;<span class="selector-tag">a</span> bosszone=<span class="string">"qmail"</span> class=<span class="string">"mail"</span> href=<span class="string">"http://mail.qq.com"</span> target=<span class="string">"_blank"</span>&gt;&lt;/a&gt;, &lt;<span class="selector-tag">a</span> bosszone=<span class="string">"qzone"</span> class=<span class="string">"qzone"</span> href=<span class="string">"http://qzone.qq.com"</span> target=<span class="string">"_blank"</span>&gt;&lt;/a&gt;, &lt;<span class="selector-tag">a</span> bosszone=<span class="string">"touxiang"</span> class=<span class="string">"logined"</span> href=<span class="string">"http://ilike.qq.com"</span> id=<span class="string">"loginGrayLayoutLogin"</span> target=<span class="string">"_blank"</span>&gt;\n&lt;<span class="selector-tag">img</span> id=<span class="string">"loginGrayLayoutImg"</span> src=<span class="string">""</span>/&gt;\n&lt;/a&gt;, &lt;<span class="selector-tag">a</span> bosszone=<span class="string">"touxiang"</span> class=<span class="string">"userVipHead"</span> href=<span class="string">"http://ilike.qq.com"</span> id=<span class="string">"userVipHead"</span> target=<span class="string">"_blank"</span>&gt;&lt;/a&gt;]</span><br></pre></td></tr></table></figure></p>
<pre><code>传入正则表达式(使用re模块，这里不再详细列出)
传入列表
传入ture
传方法
等等
</code></pre><p>-</p>
<h3 id="CSS选择器"><a href="#CSS选择器" class="headerlink" title="CSS选择器"></a>CSS选择器</h3><h6 id="css的规则：标签名不加任何修饰，类名前加点，id名前加-，在这里用的方法大致是一样的，用到的方法是bs-1-select-它的返回值是一个列表list"><a href="#css的规则：标签名不加任何修饰，类名前加点，id名前加-，在这里用的方法大致是一样的，用到的方法是bs-1-select-它的返回值是一个列表list" class="headerlink" title="css的规则：标签名不加任何修饰，类名前加点，id名前加#，在这里用的方法大致是一样的，用到的方法是bs_1.select(),它的返回值是一个列表list;"></a>css的规则：标签名不加任何修饰，类名前加点，id名前加#，在这里用的方法大致是一样的，用到的方法是bs_1.select(),它的返回值是一个列表list;</h6><p>通过标签名字<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> bs_1.<span class="keyword">select</span>(<span class="string">'title'</span>)</span><br></pre></td></tr></table></figure></p>
<p>通过类名</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> bs_1.<span class="keyword">select</span>(<span class="string">'.class'</span>)</span><br></pre></td></tr></table></figure>
<p>通过id</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> bs_1.<span class="keyword">select</span>(<span class="string">'#a_1'</span>)</span><br></pre></td></tr></table></figure>
<h4 id="组合查找"><a href="#组合查找" class="headerlink" title="组合查找"></a>组合查找</h4><p>这个和在写css的格式是一样的<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print bs_1.select('.<span class="built_in">class</span> <span class="comment">#id')</span></span><br><span class="line">意思是查找.<span class="built_in">class</span>类下的<span class="built_in">id</span>是<span class="built_in">id</span>的元素</span><br></pre></td></tr></table></figure></p>
<h3 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> bs_1.<span class="keyword">select</span>(<span class="string">'head &gt; title'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="属性查找"><a href="#属性查找" class="headerlink" title="属性查找"></a>属性查找</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print bs_1.<span class="keyword">select</span>(p[<span class="keyword">class</span>=<span class="string">"new"</span>])</span><br></pre></td></tr></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这里只是列出了部分的查找方法，还有很多的查找方法，详细请看官网。</p>

        
        <br>
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        转发请备注<a href="“https://luobuming.github.io”">一筐萝卜</a>的个人博客 <br>
        本站总访问量<span id="busuanzi_value_site_pv"></span>次
       </p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
